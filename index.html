<!DOCTYPE html>
<html>
    <head>
        <!-- META HTML -->
        <title>Spending Recap</title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

        <!-- CSS -->
        <link rel="stylesheet" type="text/css" href="src/view/css/general.css">
        <link rel="stylesheet" type="text/css" href="src/view/css/foundation.min.css">
        <link rel="stylesheet" href="font-awesome/css/font-awesome.min.css">

        <!-- JS LIBS -->
		<script type="text/javascript" src="libs/jquery-1.10.2.min.js"></script>
        <!-- CONTROLLERS -->
       	<script type="text/javascript" src="src/model/order.js"></script>

        
    </head>
    <body class="body">
        <div class="app row">
            <div class="large-10 small-10 large-centered small-centered columns">
                <div class="row header">
                	<div class="title columns titleContainer">
                		
                	</div>
                </div>
                <div class="row content collapse">
                    <!-- <div class="row">
                        <div class="large-12 button columns">
                            AMAZON - 29.5 USD - 10:05 AM
                        </div>
                    </div> 
                    <div class="row">
                        <div class="large-12 button columns">
                           WALMART - 22.9 USD - 1:25 PM
                        </div>
                    </div> 
                    <div class="row">
                        <div class="large-12 button columns">
                            FIVE GUYS BURGERS & FRIES - 15 USD - 6:00 PM
                        </div>
                    </div>  -->
                    <div class="row collapse order">
                        <div class="large-3 medium-3 small-4 columns">
                            <span class="prefix">My Order</span>
                        </div> 
                        <div class="large-3 medium-3 small-4 columns">
                            <span class="prefix">price</span>
                        </div>                    
                        <div class="large-3 medium-3 small-4 columns">
                            <span class="prefix">date</span>
                        </div>
                        <div class="large-1 medium-1 small-4 columns">
                          <div class="postfix  buttonEdit button"><i class="icon-arrow-down"></i></div>
                        </div>
                        <div class="large-1 medium-1 small-4 columns">
                          <div class="postfix  buttonEdit button"><i class="icon-wrench"></i></div>
                        </div> 
                        <div class="large-1 medium-1 small-4 columns">
                          <div class="postfix  buttonDelete button"><i class="icon-trash"></i></div>
                        </div>                   
                    </div>
                </div>
                <div class="row collapse footer">
                    <div class="large-5 medium-4 small-5 columns">
                        <input type="text" class="prefix labelInput" placeholder="Label">
                    </div>
                    <div class="large-5 medium-4 small-5 columns">
                        <input type="text" class="prefix priceInput" placeholder="Price">
                    </div>
                    <div class="buttonNewOrder large-2 medium-4 small-2 columns">
                        <div class="button postfix">
                            <i class="icon-plus"></i>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <script type="text/javascript">
        //order.js

            $(document).ready(function()
            {
                
                function deleteOnClick(){
                    orders = $(".order");
                    orders.$.each(function() {
                        var that = $(this);
                        onClickAction = that.attr('onclick');
                        that.click(function(){
                            eval(onClickAction);
                        });
                    }).removeAttr('onclick');
                }
                function getDate(){
                    var d = new Date();

                    var month = d.getMonth()+1;
                    var day = d.getDate();

                    var output = ((''+day).length<2 ? '0' : '') + day + '/' +
                        ((''+month).length<2 ? '0' : '') + month + '/' + d.getFullYear();
                    return output;
                }
                var dateNow = getDate();
                
                $(".titleContainer").html('<i class="icon-shopping-cart"> </i> '+" Spending Recap  ");

                $(".buttonNewOrder").click(function(){
                        var oneOrder = new Order($(".labelInput").val(), $(".priceInput").val(), dateNow);
                        $(".content").append('<div class="row collapse"><div class="large-3 small-2 columns"><span class="prefix">'+oneOrder.getProp('name')+'</span></div><div class="large-3 small-2 columns"><span class="prefix">'+oneOrder.getProp('price')+" â‚¬"+'</span></div><div class="large-3 small-2 columns"><span class="prefix">'+oneOrder.getProp('date')+'</span></div><div class="large-1 small-2 columns"><div class="postfix  buttonEdit button"><i class="icon-arrow-down"></i></div></div><div class="large-1 small-2 columns"><div class="postfix  buttonEdit button"><i class="icon-wrench"></i></div></div><div class="large-1 small-2 columns"><div class="postfix  buttonDelete button"><i class="icon-trash"></i></div></div>');  
                });
                
                //CoreController.start(myBundle);
            });
        </script>
    </body>
</html>